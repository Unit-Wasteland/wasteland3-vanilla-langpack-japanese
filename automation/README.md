# Automated Translation Scripts

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Wasteland 3ã®ç¿»è¨³ä½œæ¥­ã‚’å®Œå…¨è‡ªå‹•ã§å®Ÿè¡Œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸš€ å®Œå…¨è‡ªå‹•ç¿»è¨³ã®å®Ÿè¡Œæ–¹æ³•

### Windows (PowerShell) ã‹ã‚‰å®Ÿè¡Œ

```powershell
cd C:\path\to\wasteland3-vanilla-langpack-japanese
.\automation\auto-translate.ps1
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
```powershell
.\automation\auto-translate.ps1 `
    -MaxMemoryMB 7000 `
    -EntriesPerSession 2500 `
    -MaxSessions 100
```

### WSL/Linux (Bash) ã‹ã‚‰å®Ÿè¡Œ

```bash
cd /home/user/project_claude/game_wasteland/wasteland3-vanilla-langpack-japanese
./automation/auto-translate.sh
```

## ğŸ“‹ å‹•ä½œã®ä»•çµ„ã¿

1. **ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹**: Claude Codeã‚’èµ·å‹•
2. **é€²æ—èª­ã¿è¾¼ã¿**: `.translation_progress.json`ã‹ã‚‰å‰å›ã®ç¶šãã‚’èª­ã¿è¾¼ã¿
3. **è‡ªå‹•ç¿»è¨³**: ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç›´æ¥ç¿»è¨³å®Ÿè¡Œï¼ˆ100-200è¡Œãƒãƒ£ãƒ³ã‚¯ã€1000ã‚¨ãƒ³ãƒˆãƒªã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆï¼‰
4. **ãƒ¡ãƒ¢ãƒªç›£è¦–**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’ç›£è¦–ï¼ˆ30ç§’ã”ã¨ï¼‰
5. **è‡ªå‹•å†èµ·å‹•**: ä»¥ä¸‹ã®æ¡ä»¶ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ãƒ»å†èµ·å‹•
   - ãƒ¡ãƒ¢ãƒªãŒé–¾å€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ7GBï¼‰ã‚’è¶…ãˆãŸ
   - ç›®æ¨™ã‚¨ãƒ³ãƒˆãƒªæ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ2,500ï¼‰ã‚’é”æˆã—ãŸ
   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆ1æ™‚é–“ï¼‰ã«é”ã—ãŸ
6. **ãƒ«ãƒ¼ãƒ—ç¶™ç¶š**: æ¬¡ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•çš„ã«é–‹å§‹
7. **å®Œäº†æ¤œå‡º**: ç¿»è¨³å®Œäº†ã‚’æ¤œå‡ºã—ãŸã‚‰è‡ªå‹•çµ‚äº†

**é‡è¦ãªå¤‰æ›´ç‚¹ï¼ˆ2025-10ï¼‰:**
- ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä½¿ç”¨ã›ãšã€ãƒ¡ã‚¤ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç›´æ¥ç¿»è¨³ã‚’å®Ÿè¡Œ
- **`--dangerously-skip-permissions` ãƒ•ãƒ©ã‚°ä½¿ç”¨**: ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†æ¨©é™ã®è‡ªå‹•æ‰¿èªã‚’å®Ÿç¾
- **`yes` ã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨**: å¯¾è©±çš„ãªæ‰¿èªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªå‹•æ‰¿èª
- æ¨©é™æ‰¿èªã®å•é¡Œã‚’å®Œå…¨ã«è§£æ±ºã—ã€çœŸã®ç„¡äººå®Ÿè¡Œã‚’å®Ÿç¾
- å³æ ¼ãªãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆãƒãƒ£ãƒ³ã‚¯å‡¦ç†ã€é »ç¹ãªã‚³ãƒŸãƒƒãƒˆï¼‰ã§å®‰å®šæ€§ã‚’ç¢ºä¿

**âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …:**
- `--dangerously-skip-permissions` ã¯å…¨ã¦ã®æ¨©é™ãƒã‚§ãƒƒã‚¯ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¾ã™
- `yes` ã‚³ãƒãƒ³ãƒ‰ã¯å…¨ã¦ã®å¯¾è©±çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è‡ªå‹•çš„ã«ã€Œyã€ã‚’å›ç­”ã—ã¾ã™
- **ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç’°å¢ƒã¾ãŸã¯ä¿¡é ¼ã§ãã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ã®ã¿ä½¿ç”¨ã—ã¦ãã ã•ã„**
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ãŒåˆ¶é™ã•ã‚ŒãŸç’°å¢ƒã§ã®ä½¿ç”¨ã‚’æ¨å¥¨ã—ã¾ã™
- Gitãƒ–ãƒ©ãƒ³ãƒã§ã®å®Ÿè¡Œã‚’æ¨å¥¨ï¼ˆå¤‰æ›´ã®ç¢ºèªãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå®¹æ˜“ï¼‰

## ğŸ¯ ç‰¹å¾´

### âœ… å®Œå…¨ç„¡äººé‹è»¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä»‹å…¥ãªã—ã§æ•°æ—¥ã€œæ•°é€±é–“ç¨¼åƒå¯èƒ½
- å¤œé–“ã‚„é€±æœ«ã«å®Ÿè¡Œã—ã¦ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ç¿»è¨³

### âœ… ãƒ¡ãƒ¢ãƒªç®¡ç†
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’è‡ªå‹•ç›£è¦–
- é–¾å€¤è¶…éã§è‡ªå‹•çš„ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³å†èµ·å‹•
- Out of Memoryã‚¨ãƒ©ãƒ¼ã‚’é˜²æ­¢

### âœ… é€²æ—ä¿å­˜
- ã™ã¹ã¦ã®é€²æ—ã‚’è‡ªå‹•ä¿å­˜
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸­æ–­å¾Œã‚‚å†é–‹å¯èƒ½
- Gitã«è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥

### âœ… ãƒ­ã‚°è¨˜éŒ²
- è©³ç´°ãªãƒ­ã‚°ã‚’`translation-automation.log`ã«è¨˜éŒ²
- å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‡ºåŠ›ã‚’å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå®¹æ˜“

## âš™ï¸ è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

### PowerShellç‰ˆ (`auto-translate.ps1`)

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|----------|------|
| `MaxMemoryMB` | 7000 | ãƒ¡ãƒ¢ãƒªé–¾å€¤ï¼ˆMBï¼‰ã€‚ã“ã®å€¤ã‚’è¶…ãˆãŸã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³å†èµ·å‹• |
| `EntriesPerSession` | 2500 | ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ãŸã‚Šã®ç›®æ¨™ç¿»è¨³ã‚¨ãƒ³ãƒˆãƒªæ•° |
| `MaxSessions` | 100 | æœ€å¤§ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ï¼ˆå®‰å…¨è£…ç½®ï¼‰ |

### Bashç‰ˆ (`auto-translate.sh`)

ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®å¤‰æ•°ã‚’ç·¨é›†:
```bash
MAX_MEMORY_MB=7000
ENTRIES_PER_SESSION=2500
MAX_SESSIONS=100
```

## ğŸ“Š é€²æ—ç¢ºèª

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç›£è¦–

**PowerShell:**
```powershell
Get-Content .\automation\translation-automation.log -Wait -Tail 20
```

**Bash:**
```bash
tail -f automation/translation-automation.log
```

### ç¾åœ¨ã®é€²æ—ç¢ºèª

```bash
cat translation/.translation_progress.json | jq
```

### Gité€²æ—ç¢ºèª

```bash
git log --oneline -20
```

## ğŸ›‘ åœæ­¢æ–¹æ³•

### å®‰å…¨ãªåœæ­¢ï¼ˆç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†å¾Œï¼‰
ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å„ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«è‡ªå‹•çš„ã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã€å˜ç´”ã«æ¬¡ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå§‹ã¾ã‚‹å‰ã«åœæ­¢ã§ãã¾ã™ã€‚

**PowerShell:**
```powershell
# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ Ctrl+C
```

**Bash:**
```bash
# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ Ctrl+C
# ã¾ãŸã¯åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰:
pkill -TERM -f auto-translate.sh
```

### ç·Šæ€¥åœæ­¢

**å…¨Claude Codeãƒ—ãƒ­ã‚»ã‚¹ã‚’å¼·åˆ¶çµ‚äº†:**
```bash
pkill -9 claude
```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒèµ·å‹•ã—ãªã„

1. **Claude CodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª:**
   ```bash
   which claude
   claude --version
   ```

2. **ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ã‚’ç¢ºèª:**
   ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®`WORKING_DIR`ãŒæ­£ã—ã„ã‹ç¢ºèª

3. **å®Ÿè¡Œæ¨©é™ã‚’ç¢ºèªï¼ˆBashç‰ˆï¼‰:**
   ```bash
   chmod +x automation/auto-translate.sh
   ```

### ãƒ¡ãƒ¢ãƒªç›£è¦–ãŒæ©Ÿèƒ½ã—ãªã„

PowerShellç‰ˆã¯WSLå†…ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç›´æ¥ç›£è¦–ã§ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãã®å ´åˆã¯Bashç‰ˆã®ä½¿ç”¨ã‚’æ¨å¥¨ã€‚

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒé€”ä¸­ã§æ­¢ã¾ã‚‹

- `automation/.session_N_output.log`ã‚’ç¢ºèª
- Claude Codeã®APIåˆ¶é™ã«é”ã—ã¦ã„ã‚‹å¯èƒ½æ€§
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª

### ç¿»è¨³ãŒé€²ã¾ãªã„

1. `.translation_progress.json`ã®`next_action`ã‚’ç¢ºèª
2. æœ€æ–°ã®ã‚³ãƒŸãƒƒãƒˆã‚’ç¢ºèª: `git log -1`
3. æ‰‹å‹•ã§1ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Ÿè¡Œã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

## ğŸ“ æ³¨æ„äº‹é …

### APIåˆ¶é™
Claude Codeã®APIåˆ¶é™ã«ã‚ˆã‚Šã€é€£ç¶šå®Ÿè¡ŒãŒåˆ¶é™ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãã®å ´åˆã¯`ENTRIES_PER_SESSION`ã‚’æ¸›ã‚‰ã™ã‹ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã®å¾…æ©Ÿæ™‚é–“ã‚’å¢—ã‚„ã—ã¦ãã ã•ã„ã€‚

### ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡
ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã¨Gitãƒªãƒã‚¸ãƒˆãƒªãŒå¢—å¤§ã—ã¾ã™ã€‚å®šæœŸçš„ã«ç¢ºèªã—ã¦ãã ã•ã„ï¼š
```bash
du -sh automation/*.log
du -sh .git
```

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
é‡è¦ãªå¤‰æ›´ãŒè‡ªå‹•çš„ã«Gitã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ãŒã€å®šæœŸçš„ã«ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®çŠ¶æ…‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## ğŸ‰ ä½¿ç”¨ä¾‹

### å¤œé–“å®Ÿè¡Œ
```powershell
# é‡‘æ›œæ—¥ã®å¤œã«é–‹å§‹ã€é€±æœ«ä¸­ã«å®Ÿè¡Œ
.\automation\auto-translate.ps1 -MaxSessions 50
```

### é•·æœŸå®Ÿè¡Œ
```bash
# nohupã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œï¼ˆBashï¼‰
nohup ./automation/auto-translate.sh > /dev/null 2>&1 &

# tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
tmux new-session -s translation
./automation/auto-translate.sh
# Ctrl+B, D ã§ãƒ‡ã‚¿ãƒƒãƒ
# tmux attach -t translation ã§å†æ¥ç¶š
```

### æ…é‡ãªå®Ÿè¡Œï¼ˆå°‘é‡ãšã¤ï¼‰
```powershell
# 1ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ãŸã‚Š500ã‚¨ãƒ³ãƒˆãƒªã€æœ€å¤§10ã‚»ãƒƒã‚·ãƒ§ãƒ³
.\automation\auto-translate.ps1 -EntriesPerSession 500 -MaxSessions 10
```

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `CLAUDE.md` - ç¿»è¨³ãƒ«ãƒ¼ãƒ«ã¨ãƒ¡ãƒ¢ãƒªç®¡ç†ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- `translation/RESUME_TRANSLATION.md` - æ‰‹å‹•å†é–‹æ‰‹é †
- `translation/.translation_progress.json` - ç¾åœ¨ã®é€²æ—çŠ¶æ…‹
